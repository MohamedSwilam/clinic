(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{146:function(e,t,s){"use strict";var o=s(27);s.n(o).a},147:function(e,t,s){(e.exports=s(2)(!1)).push([e.i,".txt-hover:hover{\n  cursor: pointer;\n  color: black !important;\n}\n",""])},27:function(e,t,s){var o=s(147);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(3)(o,n);o.locals&&(e.exports=o.locals)},304:function(e,t,s){"use strict";s.r(t);s(131),s(145);var o={name:"Employee",mounted:function(){this.getEmployeesData(Date.now())},data:function(){return{searchText:"",resultTime:0,employees:[],is_requesting:!1}},methods:{getEmployeesData:function(e){var t=this;this.$vs.loading({container:this.$refs.browse,scale:.5}),this.$store.dispatch("employee/getData","").then((function(s){t.$vs.loading.close(t.$refs.browse),t.resultTime=Date.now()-e,t.employees=s.data.data.data})).catch((function(e){console.log(e),t.$vs.loading.close(t.$refs.browse),t.$vs.notify({title:"Error",text:e.response.data.error,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},confirmDeleteEmployee:function(e){this.$vs.dialog({type:"confirm",color:"danger",title:"Are you sure!",text:"This data can not be retrieved again.",accept:this.deleteEmployee,parameters:[e]})},deleteEmployee:function(e){var t=this;this.is_requesting=!0,this.$vs.loading({container:"#btn-delete-".concat(e[0].id),color:"danger",scale:.45}),this.$store.dispatch("employee/delete",e[0].id).then((function(s){t.is_requesting=!1,t.$vs.loading.close("#btn-delete-".concat(e[0].id," > .con-vs-loading")),t.employees=t.employees.filter((function(t){return t.id!==e[0].id})),t.$vs.notify({title:"Success",text:s.data.message,iconPack:"feather",icon:"icon-check",color:"success"})})).catch((function(s){console.log(s),t.is_requesting=!1,t.$vs.loading.close("#btn-delete-".concat(e[0].id," > .con-vs-loading")),t.$vs.notify({title:"Error",text:s.response.data.error,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},copyToClipboard:function(e){if(window.clipboardData&&window.clipboardData.setData)return this.onCopy(),clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return this.onCopy(),document.execCommand("copy")}catch(e){return this.onError(),!1}finally{document.body.removeChild(t)}}},onCopy:function(){this.$vs.notify({title:"Success!",text:"Text copied successfully.",color:"success",iconPack:"feather",position:"bottom-right",icon:"icon-check-circle"})},onError:function(){this.$vs.notify({title:"Failed!",text:"Error in copying text.",color:"danger",iconPack:"feather",position:"bottom-right",icon:"icon-alert-circle"})}}},n=(s(146),s(1)),i=Object(n.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.can("browse-user")?s("div",[s("div",{staticClass:"centerx"},[s("vs-row",[s("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"9"}},[s("b",{staticClass:"text-left vx-col w-full"},[e._v(e._s(e.employees.length)+" results found in "+e._s(e.resultTime)+"ms")])]),e._v(" "),e.can("create-user")?s("vs-col",{attrs:{"vs-type":"flex","vs-justify":"center","vs-align":"center","vs-w":"3"}},[s("vs-button",{attrs:{to:"/dashboard/employee/create","vs-w":"3",color:"primary",type:"filled","icon-pack":"feather",icon:"icon-user-plus"}},[e._v("  Add Employee")])],1):e._e()],1)],1),e._v(" "),s("div",{ref:"browse",staticClass:"vx-row"},e._l(e.employees,(function(t){return s("div",{staticClass:"vx-col w-full sm:w-1/2 md:w-1/3 mb-base"},[s("vx-card",{staticClass:"p-2"},[s("vs-avatar",{staticClass:"mx-auto mb-6 block",attrs:{size:"80px",src:t.image}}),e._v(" "),s("div",{staticClass:"text-center"},[s("h4",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),e._v(" "),s("p",{staticClass:"text-grey"},[e._v(e._s(t.roles[0].name))])]),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"text-left vx-col w-full"},[s("i",{staticClass:"fas fa-envelope"}),e._v(" "+e._s(e.$t("Email")||"Email")+"\n                    "),s("p",{staticClass:"text-grey txt-hover",on:{click:function(s){return e.copyToClipboard(t.email)}}},[e._v(e._s(t.email))])]),e._v(" "),s("br"),e._v(" "),s("div",{staticClass:"text-left vx-col w-full"},[s("i",{staticClass:"fas fa-phone"}),e._v("  "+e._s(e.$t("Telephone")||"Telephone(s)")+"\n                    "),s("p",{staticClass:"text-grey"},[e._l(t.phones,(function(o,n){return[s("span",{staticClass:"txt-hover",on:{click:function(t){return e.copyToClipboard(o.number)}}},[e._v(e._s(o.number))]),n!==t.phones.length-1?[e._v(", ")]:e._e()]})),e._v(" "),0===t.phones.length?[e._v("\n                            No Telephones Assigned!\n                        ")]:e._e()],2)]),e._v(" "),s("template",{slot:"footer"},[s("vs-divider"),e._v(" "),s("div",{staticClass:"flex justify-between"},[e.can("delete-user")?s("span",{staticClass:"flex items-center"},[s("vx-tooltip",{attrs:{color:"danger",text:e.$t("Delete")||"Delete"}},[s("vs-button",{staticClass:"vs-con-loading__container",attrs:{id:"btn-delete-"+t.id,color:"danger",type:"filled","icon-pack":"feather",icon:"icon-trash"},on:{click:function(s){e.is_requesting?e.$store.dispatch("viewWaitMessage",e.$vs):e.confirmDeleteEmployee(t)}}})],1)],1):e._e(),e._v(" "),e.can("edit-user")||e.$store.getters["auth/userData"].id===e.$route.params.id?s("span",{staticClass:"flex items-center"},[s("vs-button",{attrs:{to:"/dashboard/employee/"+t.id+"/edit",color:"warning",type:"filled","icon-pack":"feather",icon:"icon-edit"}})],1):e._e(),e._v(" "),e.can("view-user")||e.$store.getters["auth/userData"].id===e.$route.params.id?s("span",{staticClass:"flex items-center"},[s("vs-button",{attrs:{to:"/dashboard/employee/"+t.id,type:"gradient","icon-pack":"feather",icon:"icon-eye"}},[e._v("View")])],1):e._e()])],1)],2)],1)})),0)]):e._e()}),[],!1,null,null,null);t.default=i.exports}}]);