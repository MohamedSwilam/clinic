(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{156:function(e,t,a){"use strict";var s=a(32);a.n(s).a},157:function(e,t,a){(e.exports=a(2)(!1)).push([e.i,".dob-input{\n  padding-bottom: 7px !important;\n  padding-top: 7px !important;\n}\ninput[type=date]:invalid::-webkit-datetime-edit {\n  color: rgb(220, 220, 220) !important;\n}\n.input-btn {\n  position: relative;\n  top: 17px;\n  left: -33px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.gender-container{\n  padding-top: 9px !important;\n}\n.gender-placeholder {\n  transform: translate(-3px,-70%)!important;\n}\n.vs-input-number {\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n",""])},310:function(e,t,a){"use strict";a.r(t);var s={name:"create",mounted:function(){this.getPatientData()},data:function(){return{form:{email:"",first_name:"",last_name:"",birth_date:"",address:"",city:"",country:"",phones:[],occupation:"",reference:"",gender:"Male"},is_requesting:!1,Telephone:""}},computed:{validateForm:function(){return!this.errors.any()&&""!==this.form.first_name&&""!==this.form.last_name&&""!==this.form.gender&&this.form.phones.length>0}},methods:{getPatientData:function(){var e=this;this.$vs.loading({container:this.$refs.edit.$refs.content,scale:.5}),this.$store.dispatch("patient/view",this.$route.params.id).then((function(t){e.$vs.loading.close(e.$refs.edit.$refs.content),e.form=t.data.data.data})).catch((function(t){console.log(t),e.$vs.loading.close(e.$refs.edit.$refs.content),e.$vs.notify({title:"Error",text:t.response.data.error,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},edit:function(){var e=this;if(this.validateForm){for(var t in this.is_requesting=!0,this.$vs.loading({container:"#btn-edit",color:"primary",scale:.45}),this.form)""===this.form[t]&&delete this.form[t];this.$store.dispatch("patient/update",{id:this.$route.params.id,data:this.form}).then((function(t){e.is_requesting=!1,e.$vs.loading.close("#btn-edit > .con-vs-loading"),e.$router.push("/dashboard/patient/".concat(t.data.data.data.id)),e.$vs.notify({title:"Success",text:t.data.message,iconPack:"feather",icon:"icon-check",color:"success"})})).catch((function(t){console.log(t),e.is_requesting=!1,e.$vs.loading.close("#btn-edit > .con-vs-loading"),e.$vs.notify({title:"Error",text:t.response.data.errors[Object.keys(t.response.data.errors)[0]][0],iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}},removeTelephone:function(e){this.form.phones.splice(this.form.phones.indexOf(e),1)},addTelephone:function(){""!==this.Telephone&&(this.form.phones.push({country_code:"+20",number:this.Telephone}),this.Telephone="")},vs_alert:function(e,t,a,s){this.$vs.notify({title:e,text:t,color:a,iconPack:"feather",icon:s})}}},n=(a(156),a(1)),r=Object(n.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.can("edit-patient")?a("vx-card",{ref:"edit",attrs:{title:"Edit Patient","collapse-action":""}},[a("vs-row",[a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|min:3",expression:"'required|alpha_dash|min:3'"}],staticClass:"w-full",attrs:{danger:e.errors.has("first_name"),"danger-text":e.errors.first("first_name"),"val-icon-danger":"clear","icon-pack":"feather",icon:"icon-user","label-placeholder":"First Name",name:"first_name"},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|min:3",expression:"'required|alpha_dash|min:3'"}],staticClass:"w-full",attrs:{danger:e.errors.has("last_name"),"danger-text":e.errors.first("last_name"),"val-icon-danger":"clear","icon-pack":"feather",icon:"icon-user","label-placeholder":"Last Name",name:"last_name"},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("div",{staticClass:"vs-component vs-con-input-label vs-input w-full vs-input-primary is-label-placeholder"},[a("div",{staticClass:"vs-con-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.birth_date,expression:"form.birth_date"}],staticClass:"vs-inputx vs-input--input normal hasIcon hasValue dob-input",staticStyle:{border:"1px solid rgba(0, 0, 0, 0.2)"},attrs:{required:"",type:"date"},domProps:{value:e.form.birth_date},on:{input:function(t){t.target.composing||e.$set(e.form,"birth_date",t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-span-placeholder vs-input--placeholder normal normal vs-placeholder-label"},[e._v("\n                                Date of birth\n                                ")]),e._v(" "),a("i",{staticClass:"vs-icon notranslate icon-scale icon-inputx notranslate vs-input--icon feather icon-calendar null"})]),e._v(" "),a("span")])]),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{staticClass:"w-full",attrs:{name:"address",danger:e.errors.has("address"),"val-icon-danger":"clear","danger-text":e.errors.first("address"),"icon-pack":"feather",icon:"icon-map-pin","label-placeholder":"Address"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{staticClass:"w-full",attrs:{name:"city",danger:e.errors.has("city"),"val-icon-danger":"clear","danger-text":e.errors.first("city"),"icon-pack":"feather",icon:"icon-map-pin","label-placeholder":"City"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{staticClass:"w-full",attrs:{name:"country",danger:e.errors.has("country"),"val-icon-danger":"clear","danger-text":e.errors.first("country"),"icon-pack":"feather",icon:"icon-map-pin","label-placeholder":"Country"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-row",[a("vs-col",{attrs:{"vs-w":"9"}},[a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-phone","label-placeholder":"Telephone(s)"},on:{keydown:function(t){13===t.keyCode&&e.addTelephone}},model:{value:e.Telephone,callback:function(t){e.Telephone=t},expression:"Telephone"}})],1),e._v(" "),a("vs-col",{attrs:{"vs-w":"3"}},[a("vs-button",{staticClass:"w-full input-btn",attrs:{"icon-pack":"feather",icon:"icon-plus",type:"gradient"},on:{click:e.addTelephone}},[e._v("Add")])],1)],1),e._v(" "),a("br"),e._v(" "),a("vs-row",[a("vs-col",{attrs:{"vs-w":"12"}},e._l(e.form.phones,(function(t,s){return a("vs-chip",{key:s,attrs:{closable:""},on:{click:function(a){return e.removeTelephone(t)}}},[e._v("\n                            "+e._s(t.number)+"\n                        ")])})),1)],1)],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("div",{staticClass:"vs-component vs-con-input-label vs-input w-full vs-input-primary is-label-placeholder"},[a("div",{staticClass:"gender-container"},[a("vs-radio",{attrs:{"vs-value":"Male"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v("Male")]),e._v("\n                          \n                        "),a("vs-radio",{attrs:{"vs-value":"Female"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[e._v("Female")]),e._v(" "),a("span",{staticClass:"input-span-placeholder vs-input--placeholder normal normal vs-placeholder-label gender-placeholder"},[e._v("\n                                Gender\n                                ")])],1),e._v(" "),a("span")])]),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],staticClass:"w-full",attrs:{danger:e.errors.has("email"),"danger-text":e.errors.first("email"),"val-icon-danger":"clear","icon-pack":"feather",icon:"icon-mail","label-placeholder":"Email",name:"email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{staticClass:"w-full",attrs:{danger:e.errors.has("occupation"),"danger-text":e.errors.first("occupation"),"val-icon-danger":"clear","icon-pack":"feather",icon:"icon-briefcase","label-placeholder":"Occupation",name:"occupation"},model:{value:e.form.occupation,callback:function(t){e.$set(e.form,"occupation",t)},expression:"form.occupation"}})],1),e._v(" "),a("vs-col",{staticClass:"mb-5 pl-5",attrs:{"vs-lg":"6","vs-sm":"12","vs-xs":"12"}},[a("vs-input",{staticClass:"w-full",attrs:{danger:e.errors.has("reference"),"danger-text":e.errors.first("reference"),"val-icon-danger":"clear","icon-pack":"feather",icon:"icon-git-branch","label-placeholder":"Referred From",name:"reference"},model:{value:e.form.reference,callback:function(t){e.$set(e.form,"reference",t)},expression:"form.reference"}}),e._v(" "),a("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("reference")))])],1)],1),e._v(" "),a("vs-divider"),e._v(" "),a("vs-row",{attrs:{"vs-justify":"center","vs-align":"center"}},[a("vs-button",{attrs:{id:"btn-edit",disabled:!e.validateForm,"icon-pack":"feather",icon:"icon-save"},on:{click:function(t){e.is_requesting?e.$store.dispatch("viewWaitMessage",e.$vs):e.edit()}}},[e._v("Edit Patient")])],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=r.exports},32:function(e,t,a){var s=a(157);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(3)(s,n);s.locals&&(e.exports=s.locals)}}]);