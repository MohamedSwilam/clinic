(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{314:function(e,t,s){"use strict";s.r(t);var o={mounted:function(){this.getRoles()},data:function(){return{roles:[],roleIdToDelete:null,is_requesting:!1}},methods:{getRoles:function(){var e=this;this.$vs.loading({container:this.$refs.roles.$refs.content,scale:.5}),this.$store.dispatch("rolesAndPermissions/getRoles","").then((function(t){e.$vs.loading.close(e.$refs.roles.$refs.content),e.roles=t.data.data.data})).catch((function(t){console.log(t),e.$vs.loading.close(e.$refs.roles.$refs.content),e.$vs.notify({title:"Error",text:t.response.data.error,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))},confirmDeleteRole:function(e){this.$vs.dialog({type:"confirm",color:"danger",title:"Are you sure!",text:"This data can not be retrieved again.",accept:this.deleteRole,parameters:[e]})},deleteRole:function(e){var t=this;this.is_requesting=!0,this.$vs.loading({container:"#btn-type-delete-".concat(e[0].id),color:"danger",scale:.45}),this.$store.dispatch("rolesAndPermissions/delete",e[0].id).then((function(s){t.is_requesting=!1,t.$vs.loading.close("#btn-type-delete-".concat(e[0].id," > .con-vs-loading")),t.roles=t.roles.filter((function(t){return t.id!==e[0].id})),t.$vs.notify({title:"Success",text:s.data.message,iconPack:"feather",icon:"icon-check",color:"success"})})).catch((function(s){console.log(s),t.is_requesting=!1,t.$vs.loading.close("#btn-type-delete-".concat(e[0].id," > .con-vs-loading")),t.$vs.notify({title:"Error",text:s.response.data.error,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}}},n=s(1),a=Object(n.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.can("browse-role")?s("div",{staticClass:"vx-col w-full mb-base"},[s("vx-card",{ref:"roles",attrs:{title:"Roles List","collapse-action":"",refreshContentAction:""},on:{refresh:e.getRoles}},[s("vs-table",{attrs:{search:"",data:e.roles},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.data;return e._l(o,(function(t,o){return s("vs-tr",{key:o},[s("vs-td",{attrs:{data:t.id}},[e._v("\n                                "+e._s(o+1)+"\n                            ")]),e._v(" "),s("vs-td",{attrs:{data:t.name}},[e._v("\n                                "+e._s(t.name)+"\n                            ")]),e._v(" "),s("vs-td",{attrs:{data:t.created_at}},[e._v("\n                                "+e._s(t.created_at)+"\n                            ")]),e._v(" "),s("vs-td",[s("vs-row",[s("div",{staticClass:"flex mb-4"},[e.can("view-role")?s("div",{staticClass:"w-1/3"},[s("vs-button",{attrs:{to:"/dashboard/settings/role/"+t.id,radius:"",color:"primary",type:"border","icon-pack":"feather",icon:"icon-eye"}})],1):e._e(),e._v(" "),e.can("edit-role")?s("div",{staticClass:"w-1/3 ml-5"},[s("vs-button",{attrs:{to:"/dashboard/settings/role/edit/"+t.id,radius:"",color:"warning",type:"border","icon-pack":"feather",icon:"icon-edit"}})],1):e._e(),e._v(" "),e.can("delete-role")?s("div",{staticClass:"w-1/3 ml-5"},[s("vs-button",{staticClass:"vs-con-loading__container",attrs:{id:"btn-type-delete-"+t.id,radius:"",color:"danger",type:"border","icon-pack":"feather",icon:"icon-trash"},on:{click:function(s){e.is_requesting?e.$store.dispatch("viewWaitMessage",e.$vs):e.confirmDeleteRole(t)}}})],1):e._e()])])],1)],1)}))}}],null,!1,1173203458)},[s("template",{slot:"header"},[e.can("assign-role")?s("vs-button",{attrs:{size:"small",to:"/dashboard/settings/role/create","icon-pack":"feather",icon:"icon-plus",type:"filled"}},[e._v("Create Role")]):e._e()],1),e._v(" "),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"id"}},[e._v("ID")]),e._v(" "),s("vs-th",{attrs:{"sort-key":"display_name"}},[e._v("Role")]),e._v(" "),s("vs-th",{attrs:{"sort-key":"created_at"}},[e._v("Created At")]),e._v(" "),s("vs-th",[e._v("Action")])],1)],2)],1)],1):e._e()])}),[],!1,null,null,null);t.default=a.exports}}]);